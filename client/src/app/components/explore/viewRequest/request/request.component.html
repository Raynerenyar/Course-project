<div class="flex justify-content-center">
    <div class="flex flex-column gap-3 pb-2 row-gap-3 max-width" style="width: 80%">
        <ng-container *ngIf="request">

            <!-- header -->
            <div class="flex base-card flex-row justify-content-between align-items-center">
                    <div class="flex flex-column p-2 px-4">
                        <div class="text-xl font-bold">
                            {{request.title | titlecase}}
                        </div>
                        <div>
                            Request Number: {{request.requestNo}} 
                        </div>
                    </div>
                    
                    <div class="flex p-2 px-3  align-content-center">
                    <p-button icon="pi pi-arrow-left" styleClass="p-button-raised p-button-rounded" label="Back To Project" (click)="goBack()"></p-button>
                </div>
            </div>

            <!-- middle card -->
            <div class="flex flex-row gap-3 flex-wrap md:flex-wrap lg:flex-nowrap">
                <!-- left -->
                <div class="base-card flex-column p-4 w-full lg:w-9">
                    <div class="flex flex-row justify-content-between">
                        <div class="flex flex-column col-12 md:col-6 lg:col-6 p-0">
                            <div>
                                <span class="text-lg font-semibold">Amount:</span> {{request.amount | commaSeparated}} {{project.tokenSymbol}}
                            </div>
                            <div>
                                <span class="text-lg font-semibold">Number Of Votes:</span> {{countOfVotes | commaSeparated}}
                            </div>
                        </div>
                        <div class="flex flex-column col-12 md:col-6 lg:col-6 p-0">
                            <div>
                                <span class="text-lg font-semibold">Value Of Votes:</span> {{valueOfVotes | commaSeparated}}
                            </div>
                            <div>
                                <span class="text-lg font-semibold">Value in % Of Amount:</span> {{valueOfVotes/request.amount | percent:'1.2-2'}}
                                <p-tag icon="pi pi-info-circle" pTooltip="Minimum quorem = 50% of the Value Of Votes over the Amount" styleClass="bg-white text-primary" class="text-xs"></p-tag>
                            </div>
                        </div>
                    </div>
                    <div>
                        <ng-container *ngIf="valueOfVotes/(request.amount/2)*100 <= 100; else moreThan100">
                            <p-progressBar [value]="valueOfVotes/(request.amount/2)*100"></p-progressBar>
                        </ng-container>
                        <ng-template #moreThan100>
                            <p-progressBar [value]="100"></p-progressBar>
                        </ng-template>
                    </div>
                </div>
                <!-- right -->
                <div class="base-card flex flex-column w-full lg:w-3 justify-content-center">
                    <div class="flex p-2 px-4  align-content-center justify-content-center">
                        <p-button icon="vote-white-icon" styleClass="p-button-raised p-button-rounded custom-bg-accent" label="Vote This Request" (click)="voteRequest()"></p-button>
                    </div>
                </div>
            </div>

            <!-- footer card -->
            <div class="flex base-card flex-column p-4">
                <div class="text-justify">
                    {{request.description}}
                </div>
            </div>
        
        </ng-container>
    </div>
</div>

<!-- <div #contributeReq>
    <h3>{{request.title | titlecase}}</h3>
    <p class="text-justify">{{request.description}}</p>
    <form>
        <div class="grid grid-nogutter">
            
            <div class="col-8 grid grid-nogutter align-items-center">
                <div class="col-6 field p-float-label flex align-items-center mb-2 mt-2">
                    <p-inputNumber formControlName="contributeAmount" styleClass="w-full" class="w-full"></p-inputNumber>
                    <label htmlFor="number-input">Contribute (You have balance of {{tokenBalance}} {{project.tokenSymbol}})</label>
                </div>
                <div class="col-4 ml-2">
                    <p-button styleClass="p-button-raised font-normal" (click)="contribute()">Contribute</p-button>
                </div>        
            </div>
            <div class="col-4 mb-2 mt-2"></div>

            <div class="col-8 grid grid-nogutter align-items-center mb-2 mt-2">
                <div class="col-6">
                    <span>{{'vote for this request'| titlecase }}</span>
                </div>
                <div class="col-4 ml-2">
                    <p-button styleClass="p-button-raised font-normal" (click)="voteRequest()">Send Vote</p-button>
                </div>
            </div>
            <div class="col-4 mb-2 mt-2"></div>
            
            <div class="col-8 grid grid-nogutter align-items-center mb-2  mt-2">
                <div class="col-6">
                    You want out? testing
                </div>
                <div class="col-4 ml-2 flex flex-row">
                    <p-button styleClass="p-button-raised font-normal" [disabled]="notRefundable" (click)="refund()">Get Refund</p-button>
                    <p-tag icon="pi pi-info-circle" pTooltip="Deadline has not passed" value="Info" styleClass="bg-white text-primary" class="text-xs"></p-tag>
                </div>
            </div>
            <div class="col-4 mb-2 mt-2"></div>
        </div>
    </form>
</div> -->