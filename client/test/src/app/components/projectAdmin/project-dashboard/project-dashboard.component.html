<!-- <p-megaMenu [model]="itemz" styleClass="" class="w-full" [style]="{'justify-content': 'between'}">

</p-megaMenu>
<div class="grid grid-nogutter p-3 justify-content-center w-full" >
    <div class="col-12">
        <router-outlet></router-outlet>
    </div>
    <div>
        <div class="dashboard">
            <div class="card expand" id="card1" (click)="onCardClick($event); selectCard('card1', $event)" value="card1" [ngClass]="{'expanded': selectedCard === 'card1'}">
              <h3>Card 1</h3>
              <p>This is the content of card 1</p>
            </div>
            <div class="card" (click)="onCardClick($event); selectCard('card1', $event)"[ngClass]="{'expanded': selectedCard === 'card2'}">
              <h3>Card 2</h3>
              <p>This is the content of card 2</p>
            </div>
            <div class="card" (click)="onCardClick($event); selectCard('card1', $event)" [ngClass]="{'expanded': selectedCard === 'card3'}">
              <h3>Card 3</h3>
              <p>This is the content of card 3</p>
            </div>
        </div>
        
        <div class="grid grid-nogutter column-gap-3 row-gap-3 justify-content-center">
                <div class="col-9 card" styleClass="h-full">
                    <h2>A Project Title</h2>
                    <p class="py-2">
                        Goal: $100,000 Raised Amount: $10,000
                    </p>
                    <div class="py-2">
                        <p-progressBar [value]="50"></p-progressBar>
                    </div>
                </div>
                <div class="col-2">
                    <div class="grid column-gap-3 row-gap-3">
                        <div class="card buttons col-5">new</div>
                        <div class="card buttons col-5">new</div>
                        <div class="col-11 card" styleClass="h-full">
                            <ng-template pTemplate="header">
                                another
                            </ng-template>
                            <ng-template pTemplate="content">
                                body
                            </ng-template>
                            <div>another</div>
                            <div>body</div>
                        </div>
                    </div>
                </div>
        </div>
    </div>


</div> -->
<!-- <button (click)="onSelection($event)" >testing</button> -->
<!-- <app-announcemnt-editor></app-announcemnt-editor> -->


<div class="flex justify-content-center">
    <div class="flex flex-column gap-3 px-2 row-gap-3 pb-2 max-width" style="width: 80%;">
        
        <!-- top card -->
        <div class="flex base-card">
            <div class="flex flex-column w-12 mx-4 my-4 overflow-hidden text-overflow-ellipsis">
                
                <div class="text-xl font-bold" style="overflow: hidden;text-overflow: ellipsis;">Hi, Welcome <span class="select-all">{{creatorAddress}}</span>.</div>
                <!-- <div class="text-sm">
                    <div>
                        Active: {{activeCount}}
                    </div>
                    <div>
                        Completed: {{completedCount}}
                    </div>
                    <div>
                        Expired: {{expiredCount}}
                    </div>
                </div> -->
            </div>
        </div>

        <!-- stats card -->
        <div class="flex justify-content-between gap-3">
            <div class="base-card p-2 pb-4 flex-grow-1">
                <div class="text-lg font-semibold pl-3">Active</div>
                <div class="text-center">{{activeCount}}</div>
            </div>
            <div class="base-card p-2 pb-4 flex-grow-1">
                <div class="text-lg font-semibold pl-3">Completed</div>
                <div class="text-center">{{completedCount}}</div>
            </div>
            <div class="base-card p-2 pb-4 flex-grow-1">
                <div class="text-lg font-semibold pl-3">Expired</div>
                <div class="text-center">{{expiredCount}}</div>
            </div>
        </div>


        <!-- active projects card -->
        <div *ngIf="activeCount > 0" class="flex base-card">
            <div class="flex flex-column gap-3 w-full p-2 pb-3">
                <div class="flex flex-row title-card m-2 pt-1 justify-content-between align-items-center">
                    <div class="p-2 text-lg font-semibold">
                        <span>Active Projects</span>
                    </div>
                    <div style="cursor: pointer;border: 1px solid #b8b5b5c5;border-radius: 10px;" class="flex justify-content-center w-2 button-card p-2 custom-bg-accent" 
                    pInputText pTooltip="New Project" tooltipPosition="top" [showDelay]="800"
                    routerLink="new-project">
                        <div class="add-white-icon"></div>
                    </div>
                </div>
                <ng-container *ngFor="let project of projects; let i = index">
                    <ng-container *ngIf="!project.completed && !project.expired">
                        <div class="card mx-2" (click)="onCardClick($event,i)" routerLink="{{project.projectAddress}}">
                            <div class="p-2 font-semibold">
                                {{project.title | titlecase}}
                            </div>
                            <div class="grid grid-nogutter">
                                <div class="col-4 text-sm px-2">
                                    Raised Amount: {{project.raisedAmount}} {{project.tokenSymbol}}
                                </div>
                                <div class="col-4 text-sm px-2">
                                    Goal: {{project.goal}} {{project.tokenSymbol}}
                                </div>
                                <div class="col-4 text-sm px-2 text-right">
                                    Deadline: {{project.deadline | date: 'dd MMM yyyy'}}
                                </div>
                            </div>
                            <div class="p-2">
                                <ng-container *ngIf="((project.raisedAmount/project.goal)*100) <= 100; else moreThan100">
                                    <p-progressBar [value]="((project.raisedAmount/project.goal)*100)"></p-progressBar>
                                    <!-- <p-progresseBar [value]="50"></p-progressBar> -->
                                </ng-container>
                                <ng-template #moreThan100>
                                    <p-progressBar [value]="100"></p-progressBar>
                                </ng-template>
                            </div>
                        </div>
                    </ng-container>
                </ng-container>
            </div>
        </div>

        <!-- completed projects card -->
        <div *ngIf="completedCount > 0" class="flex base-card">
            <div class="flex flex-column gap-3 w-full p-1 pb-3">
                <div class="title-card m-2 -mb-2">
                    <div class="p-2 text-lg font-semibold">
                        <span>Completed Projects</span>
                    </div>
                </div>
                <ng-container *ngFor="let project of projects">
                    <ng-container *ngIf="project.completed">
                        <div class="card mx-2 flex flex-column">
                            <div class="p-2 font-semibold">
                                {{project.title | titlecase}}
                            </div>
                            <div class="grid grid-nogutter">
                                <div class="col-4 text-sm px-2">
                                    Raised Amount: {{project.raisedAmount}}
                                </div>
                                <div class="col-4 text-sm px-2">
                                    Goal: {{project.goal}}
                                </div>
                                <div class="col-4 text-sm px-2 text-right">
                                    Deadline: {{project.deadline | date: 'dd MMM yyyy'}}
                                </div>
                            </div>
                            <div class="p-2">
                                <p-progressBar [value]="50"></p-progressBar>
                            </div>
                        </div>
                    </ng-container>
                </ng-container>
            </div>
        </div>

        <!-- expired projects card -->
        <div *ngIf="expiredCount > 0" class="flex base-card">
            <div class="flex flex-column gap-3 w-full p-1 pb-3">
                <div class="title-card m-2 -mb-2">
                    <div class="p-2 text-lg font-semibold">
                        <span>Expired Projects</span>
                    </div>
                </div>
                <ng-container *ngFor="let project of projects">
                    <ng-container *ngIf="project.expired">
                        <div class="card mx-2 flex flex-column">
                            <div class="p-2 font-semibold">
                                {{project.title | titlecase}}
                            </div>
                            <div class="grid grid-nogutter">
                                <div class="col-4 text-sm px-2">
                                    Raised Amount: {{project.raisedAmount}}
                                </div>
                                <div class="col-4 text-sm px-2">
                                    Goal: {{project.goal}}
                                </div>
                                <div class="col-4 text-sm px-2 text-right">
                                    Deadline: {{project.deadline | date: 'dd MMM yyyy' }}
                                </div>
                            </div>
                            <div class="p-2">
                                <p-progressBar [value]="50"></p-progressBar>
                            </div>
                        </div>
                    </ng-container>
                </ng-container>
            </div>
        </div>

    </div>
</div>


<!-- <div class="grid-container">
    <div class="header bg-primary">
        header
    </div>
    <div class="main bg-primary">
        main
    </div>
    <div class="sidebar bg-primary">
        sidebar
    </div>
    <div class="footer bg-primary">
        footer
    </div>
</div> -->
  